// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

// Looking for ways to speed up your queries, or scale easily with your serverless or edge functions?
// Try Prisma Accelerate: https://pris.ly/cli/accelerate-init

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}

model Hotels {
  hotel_id             Int                    @id @default(autoincrement())
  hotel_name           String
  city                 String
  HotelServices        HotelServices[]
  HotelServiceBookings HotelServiceBookings[]
}

model HotelServices {
  id           Int     @id @default(autoincrement())
  hotel_id     Int
  service_name String
  descriptions String?
  image_links  String?
  free_service Boolean
  free_premium Boolean // free services for "premium" user
  hotel        Hotels  @relation(fields: [hotel_id], references: [hotel_id])

  @@index([hotel_id])
}

model HotelServiceBookings {
  id           Int        @id @default(autoincrement())
  hotel_id     Int
  service_name String
  guest_id     Int
  hotel        Hotels     @relation(fields: [hotel_id], references: [hotel_id])
  guest        HotelGuest @relation(fields: [guest_id], references: [id])

  @@index([hotel_id])
  @@index([guest_id])
}

model HotelGuest {
  id                   Int                    @id @default(autoincrement())
  room_number          Int
  checkin_date         DateTime
  checkout_date        DateTime
  email                String                 @unique
  fullname             String
  HotelServiceBookings HotelServiceBookings[]
}

model Attraction {
  id          Int    @id @default(autoincrement())
  title       String
  address     String
  description String
  link_url    String
  latitude    Float
  longitude   Float
}
